import{b as g,c as _}from"./chunk-XQWBCZPE.js";import{b as d,f as O}from"./chunk-6NCQ3U63.js";import{Ab as M,C as h,F as v,N as C,Nb as m,P as T,Ra as l,Y as k,ba as a,o as f,ob as y,p as u,pb as x,qb as p,t as b,u as i,ub as S,zb as E}from"./chunk-KSOQK5D3.js";var j=class o{http=a(O);notificationService=a(_);cache=new Map;CONFIG={TIMEOUT_MS:1e4,RETRY_COUNT:2,CACHE_TTL_MS:5*60*1e3,RETRY_DELAY_MS:1e3,MAX_RETRY_DELAY_MS:1e4};loadData(e){let t=this.cache.get(e),r=Date.now();if(t&&r-t.timestamp<this.CONFIG.CACHE_TTL_MS)return t.data$;t&&this.cache.delete(e);let n=this.http.get(`/data/${e}`).pipe(b(this.CONFIG.TIMEOUT_MS),this.retryWithBackoff(this.CONFIG.RETRY_COUNT),T(1),v(s=>{let c=`Failed to load ${e.replace(".json","")} data`;return console.error(c,s),this.notificationService.error(c),e.includes(".json")?f({}):u(()=>s)}));return this.cache.set(e,{data$:n,timestamp:r}),n}retryWithBackoff(e){let t=0;return r=>r.pipe(C({count:e,delay:n=>{t++;let s=Math.min(this.CONFIG.RETRY_DELAY_MS*Math.pow(2,t-1),this.CONFIG.MAX_RETRY_DELAY_MS);return console.log(`Retrying after ${s}ms (attempt ${t}/${e})`),h(s)}}))}clearCache(){this.cache.clear()}clearCacheForPath(e){this.cache.delete(e)}getSkills(){return this.loadData("skills.json").pipe(i(e=>e?.skills||[]))}getProjects(){return this.loadData("projects.json").pipe(i(e=>e?.projects||[]))}getCertificates(){return this.loadData("certificates.json").pipe(i(e=>e?.certificates||[]))}getAchievements(){return this.loadData("achievements.json").pipe(i(e=>e?.achievements||[]))}getExperience(){return this.loadData("experience.json").pipe(i(e=>e?.experience||[]))}getEducation(){return this.loadData("education.json").pipe(i(e=>e?.education||[]))}getTestimonials(){return this.loadData("testimonials.json").pipe(i(e=>e?.testimonials||[]))}getGames(){return this.loadData("games.json").pipe(i(e=>e?.games||[]))}getSkillsForRadarChart(){return this.getSkills().pipe(i(e=>{let t=[],r=[];return e.forEach(n=>{let s=n.items.reduce((c,N)=>c+N.level,0)/n.items.length;t.push(n.category),r.push(Math.round(s))}),{labels:t,datasets:[{label:"Skill Level",data:r,fill:!0,backgroundColor:"rgba(0, 112, 243, 0.2)",borderColor:"rgb(0, 112, 243)",pointBackgroundColor:"rgb(0, 112, 243)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgb(0, 112, 243)"}]}}))}static \u0275fac=function(t){return new(t||o)};static \u0275prov=k({token:o,factory:o.\u0275fac,providedIn:"root"})};var D=class o{scrollService=a(g);scrollPercentage=m(()=>{let e=this.scrollService.currentScrollPosition(),t=document.documentElement.scrollHeight-window.innerHeight;return t>0?e/t*100:0});static \u0275fac=function(t){return new(t||o)};static \u0275cmp=l({type:o,selectors:[["app-scroll-progress"]],decls:1,vars:2,consts:[[1,"scroll-progress"]],template:function(t,r){t&1&&p(0,"div",0),t&2&&E("width",r.scrollPercentage(),"%")},dependencies:[d],styles:[".scroll-progress[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:4px;background:linear-gradient(to right,var(--color-primary),var(--color-secondary));z-index:2000;transition:width .1s ease}"]})};var w=class o{scrollService=a(g);isVisible=m(()=>this.scrollService.currentScrollPosition()>500);scrollToTop(){this.scrollService.scrollToTop()}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=l({type:o,selectors:[["app-back-to-top"]],decls:2,vars:2,consts:[["aria-label","Back to top",1,"back-to-top",3,"click"],[1,"fas","fa-arrow-up"]],template:function(t,r){t&1&&(y(0,"button",0),S("click",function(){return r.scrollToTop()}),p(1,"i",1),x()),t&2&&M("visible",r.isVisible())},dependencies:[d],styles:[".back-to-top[_ngcontent-%COMP%]{position:fixed;bottom:2rem;right:2rem;width:50px;height:50px;border-radius:50%;background-color:var(--color-primary);color:#fff;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:1.2rem;opacity:0;visibility:hidden;transform:translateY(20px);transition:all .3s ease;z-index:1000;box-shadow:0 4px 12px #0070f34d}.back-to-top[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 6px 20px #0070f366}.back-to-top.visible[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0)}@media (max-width: 768px){.back-to-top[_ngcontent-%COMP%]{bottom:1rem;right:1rem;width:45px;height:45px}}"]})};export{j as a,D as b,w as c};
